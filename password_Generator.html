<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap(5.3).css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <div class="container card" style="width: 300px">
      <h3>Password Generator</h3>
      <div style="display: flex; justify-content: space-between">
        <input type="text" disabled style="width: 250px" id="pass" />
        <i class="fa fa-clone" id="copy_sign"></i>
      </div>

      <label for="len"
        >Password length

        <input type="number" id="len" style="width: 70px" min="1" />
      </label>
      <label for="upper">
        Includes uppercase letters
        <input type="checkbox" id="upper" />
      </label>
      <label for="lower">
        Includes lowercase letters
        <input type="checkbox" id="lower" checked />
      </label>
      <label for="digit">
        Includes numbers
        <input type="checkbox" id="digit" />
      </label>
      <label for="symbol">
        Includes symbols
        <input type="checkbox" id="symbol" />
      </label>

      <br />
      <button class="btn btn-secondary">Generate password</button>
    </div>

    <script>
      let container = document.querySelector(".container");
      container.style.marginTop = "20px";
      let h3 = document.querySelector("h3");
      h3.style.marginTop = "10px";
      let pass = document.querySelector("#pass");
      let label = document.querySelectorAll("label");
      label.forEach((i) => {
        i.style.display = "flex";
        i.style.justifyContent = "space-between";
        i.style.marginTop = "5px";
      });
      let upper = document.querySelector("#upper");
      let lower = document.querySelector("#lower");
      let digit = document.querySelector("#digit");
      let symbol = document.querySelector("#symbol");
      let lowerCh = "abcdefghijklmnopqrstuvwxyz";
      let upperCh = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let digitCh = "0123456789";
      let symbolCh = "!@#$%^&*-+,";
      let btn = document.querySelector("button");
      let copy_sign = document.querySelector("#copy_sign");

      btn.addEventListener("click", function () {
        let password = "";
        let dictionary = "";
        let len = document.querySelector("#len");

        if (lower.checked) {
          dictionary += lowerCh;
        }
        if (upper.checked) {
          dictionary += upperCh;
        }
        if (digit.checked) {
          dictionary += digitCh;
        }
        if (symbol.checked) {
          dictionary += symbolCh;
        }
        for (let i = 1; i <= len.value; i++) {
          password += dictionary.charAt(
            Math.floor(Math.random() * dictionary.length - 1) + 1
          );
        }
        pass.value = password;
        copy_sign.addEventListener("click", function () {
          copy_sign.className = "fa fa-check";
          copy_sign.style.color = "green";
          setTimeout(() => {
            copy_sign.className = "fa fa-clone";
            copy_sign.style.color = "black";
          }, 1000);
        });
      });
    </script>
  </body>
</html>
